<div class="container">
    <div class="card bg-light mt-4">
        <article class="card-body mx-auto" style="max-width: 600px">
            <div style="min-width: 300px;">
                <h3 class="mb-3 card-title text-center">Create Account</h3>
                <hr />
                <!-- Reactive forms: using form group -->
                <!-- novalidate disables default HTML form validation -->
                <form [formGroup]="registerForm" novalidate>
                    <div hidden class="form-group">
                        <label for="id">Id :</label>
                        <input type="text" id="id" class="form-control" formControlName="id"><br>
                    </div>

                    <div class="form-group">
                        <label for="userControl">Username </label>
                        <input type="text" id="userControl" class="form-control" formControlName="user">
                        <!-- validation message -->
                        <div *ngIf="!registerForm.controls['user'].valid && (registerForm.controls['user'].touched || 
            registerForm.controls['user'].dirty)">
                            <div style="color: red" class='fst-italic' [hidden]="!registerForm.controls['user'].errors?.['required']">
                                Username is required
                            </div>
                            <div style="color: blue" class='fst-italic' [hidden]="!registerForm.controls['user'].errors?.['minlength']
                            && !registerForm.controls['user'].errors?.['maxlength']">
                                Username should be 4-10 characters.
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="form-group">
                        <label for="passwordControl">Password :</label>
                        <input type="password" id="passwordControl" class="form-control" formControlName="password">
                        <div *ngIf="!password?.valid && (password?.touched || password?.dirty)">
                            <div style="color: red" class='fst-italic' [hidden]="!registerForm.controls['password'].errors?.['required']">
                                Password is required
                            </div>
                            <div style="color: blue" class='fst-italic' [hidden]="!registerForm.controls['password'].errors?.['minlength']
                            && !registerForm.controls['password'].errors?.['maxlength']">
                                Password should be 8-20 characters.
                            </div>
                        </div>
                    </div>
                    <br />
                    <p class="text-center" *ngIf="!registerForm.valid">
                        Please complete the missing information. 
                    </p>
                    <div class="d-flex justify-content-center">
                        <button class="btn-warning btn btn-sm me-3" [disabled]="!registerForm.valid" (click)="saveUser()">Register</button>
                        <button type="button" class="btn-success btn btn-sm ms-3">Clear</button>
                    </div>
                    <br />
                </form>
                <p class="text-center">Already have an account? <a routerLink="/login"> Login </a> </p>
            </div>
        </article>
    </div>
</div>